<div *ngIf="loading" style="padding-top: 15%;width:100%">
  <div style="width:200px;margin:auto;padding-left: 70px">
    <div class="spinner-container">
      <mat-spinner></mat-spinner>
    </div>
  </div>
</div>
<div *ngIf="!loading" class="container" style="margin-top: 140px">
<div class="main-card mb-3 card" [ngClass]="getTheme() ? 'bg-premium-dark' : ''">
<div class="card-body">
  <div class="avatar-container">
    <div>
      <img width="160" height="160" class="rounded-circle" *ngIf="retrievedImage == null"  src="assets/images/avatars/0.png" alt="">
      <img width="160" height="160" class="rounded-circle" *ngIf="retrievedImage" [src]="retrievedImage" alt="">
      <span class="material-icons" matTooltip="Remove image" *ngIf="retrievedImage" (click)="removeImage()" style="position: absolute;color:grey;opacity: .8;cursor: pointer;margin-left: -23px;margin-top: 5px">cancel</span>
      <input (change)="onSelectFile(file.files)" accept='image/*' alt="" title="" type="file" matTooltip="Employee image" style="opacity:0;position:fixed;margin-top: 8px;margin-left:-115px;cursor:pointer;height:106px;width:107px;border-radius:120px" #file>
    </div>
    <div *ngIf="imageChanged" class="buttonsContainer" [ngStyle]="{'color': getTheme() ? 'white' : ''}">
      <i matTooltip="Save" (click)="saveChanges()" class="fa fa-save saveBut"></i>
      <i matTooltip="Undo changes" (click)="undoChanges()" class="fa fa-undo cancelBut"></i>
    </div>
  </div>
  <div class="info">
    <div class="title">
      <span>{{connectedUser.name}} {{connectedUser.firstName}}</span>
    </div>
    <div *ngIf="connectedUser.post != null" [ngStyle]="{'color': getTheme() ? 'white' : ''}">
    <div class="desc">{{connectedUser.post.postName}}</div>
    </div>
  </div>
  <div style="text-align: left">
  <app-employee-details (outPutData)="refreshConnectedUser($event)" [emp]="connectedUser"></app-employee-details>
  </div>
</div>
</div>
</div>
