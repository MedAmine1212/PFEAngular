  <ng-template matStepLabel>Fill out user informations</ng-template>
  <div  class="main-card mb-3 card main" >
    <div class="card-header">

      <h1>Add schedule</h1>
      <hr>
    </div>
    <div class="card-body">
      <form [formGroup]="formGroup">
        <div class="form-row">
          <div class="form-group col-md-5">
            <mat-form-field  appearance="outline">
              <mat-label>Schedule Name</mat-label>
              <input
                matInput
                required
                id="inputScheduleName"
                placeholder="Schedule name"
                formControlName="schName"
                [(ngModel)]="schedule.scheduleName"
                >
              <button mat-button  matSuffix mat-icon-button aria-label="Clear" >
                <mat-icon>close</mat-icon>
              </button>
              <mat-error>
              </mat-error>
            </mat-form-field>
          </div>
          <div class="form-group col-md-5">
            <mat-form-field  appearance="outline">
              <mat-label>Schedule Description</mat-label>
              <input
                matInput
                required
                id="inputScheduleDesc"
                placeholder="Schedule Description"
                formControlName="schDesc"
              >
              <button mat-button  matSuffix mat-icon-button aria-label="Clear" >
                <mat-icon>close</mat-icon>
              </button>
              <mat-error>
              </mat-error>
            </mat-form-field>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group col-md-5">
            <mat-form-field appearance="outline">
              <mat-label>Start date</mat-label>
              <input
                matInput
                [matDatepicker]="picker"
                formControlName="startDate"
              >
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
          </div>
          <div class="form-group col-md-5">
            <mat-form-field appearance="outline">
              <mat-label>End date</mat-label>
              <input
                matInput [matDatepicker]="picker2"
                formControlName="endDate"

              >
              <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
              <mat-datepicker #picker2></mat-datepicker>
            </mat-form-field>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group col-md-5">
            <mat-form-field  appearance="outline">
              <mat-label>Repeat cycle</mat-label>
              <input
                matInput
                required
                type="number"
                id="inputRepeatCycle"
                placeholder="Repeat cycle (per week)"
                formControlName="repeatCyc"
              >
              <button mat-button  matSuffix mat-icon-button aria-label="Clear" >
                <mat-icon>close</mat-icon>
              </button>
              <mat-error>
              </mat-error>
              <mat-hint>(weeks)</mat-hint>
            </mat-form-field>
          </div>
          <div class="form-group col-md-3 hours">
            <div class="timeLabel">
            <mat-label>Daily cycle</mat-label>
            </div>
              <input
                [format]="24"  readonly
                class="choseTime"
                placeholder="Begin hour"
                [ngxTimepicker]="picker3">
              <ngx-material-timepicker class="timePicker" #picker3></ngx-material-timepicker>
          </div>
          <div class="form-group col-md-3 hours">
            <input
              [format]="24"  readonly
              class="choseTime"
              placeholder="End hour"
              [ngxTimepicker]="picker4">
            <ngx-material-timepicker class="timePicker" #picker4></ngx-material-timepicker>
          </div>
        </div>
        <div class="form-row daysColorsRow">
          <div class="form-group col-md-6">
            <div class="daysLabel">
              <mat-label>Repeat days </mat-label>
            </div>
            <table class="daysTable">
              <tr>
                <td class="daysTd"><div matTooltip="Monday" (click)="addRemoveDay('Monday')" style="padding-left: 5px !important;"  class="btn-secondary days" [ngStyle]="{'background-color':planning.scheduleDays.indexOf('Monday')> -1 ? 'cornflowerblue' :''}">Mo</div></td>
                <td class="daysTd"><div matTooltip="Tuesday" (click)="addRemoveDay('Tuesday')" class="btn-secondary days" [ngStyle]="{'background-color':planning.scheduleDays.indexOf('Tuesday')> -1 ? 'cornflowerblue' :''}">Tu</div></td>
                <td class="daysTd"><div matTooltip="Wednesday" (click)="addRemoveDay('Wednesday')" style="padding-left: 5px !important;" class="btn-secondary days" [ngStyle]="{'background-color':planning.scheduleDays.indexOf('Wednesday')> -1 ? 'cornflowerblue' :''}">We</div></td></tr><tr>
              <td class="daysTd"><div matTooltip="Thursday" (click)="addRemoveDay('Thursday')"  class="btn-secondary days" [ngStyle]="{'background-color':planning.scheduleDays.indexOf('Thursday')> -1 ? 'cornflowerblue' :''}">Th</div></td>
              <td class="daysTd"><div matTooltip="Friday" (click)="addRemoveDay('Friday')" style="padding-left: 8px" class="btn-secondary days" [ngStyle]="{'background-color':planning.scheduleDays.indexOf('Friday')> -1 ? 'cornflowerblue' :''}">Fr</div></td>
              <td class="daysTd"><div matTooltip="Saturday" (click)="addRemoveDay('Saturday')" class="btn-secondary days" [ngStyle]="{'background-color':planning.scheduleDays.indexOf('Saturday')> -1 ? 'cornflowerblue' :''}">Sa</div></td>
              <td class="daysTd"><div matTooltip="Sunday" (click)="addRemoveDay('Sunday')" class="btn-secondary days" [ngStyle]="{'background-color':planning.scheduleDays.indexOf('Sunday')> -1 ? 'cornflowerblue' :''}">Su</div></td>
            </tr>
            </table>
          </div>
          <div class="form-group col-md-6 colorsRow">
            <div class="colorsLabel">
              <mat-label >Color</mat-label>
            </div>
            <table class="colorTable">
            <tr>
            <td matTooltip="Primary"><div (click)="choseColor('primary')" [ngClass]="schedule.color === 'btn btn-primary' ? 'btn-primary colorsChecked' : 'btn-primary colors'"></div></td>
            <td  matTooltip="Secondary" ><div (click)="choseColor('secondary')" [ngClass]="schedule.color === 'btn btn-secondary' ? 'btn-secondary colorsChecked' : 'btn-secondary colors'"></div></td>
            <td matTooltip="Light blue"><div (click)="choseColor('info')" [ngClass]="schedule.color === 'btn btn-info' ? 'btn-info colorsChecked' : 'btn-info colors'"></div></td>
            <td matTooltip="Yellow"><div (click)="choseColor('warning')" [ngClass]="schedule.color === 'btn btn-warning' ? 'btn-warning colorsChecked' : 'btn-warning colors'"></div></td>
            <td matTooltip="Green"><div (click)="choseColor('success')" [ngClass]="schedule.color === 'btn btn-success' ? 'btn-success colorsChecked' : 'btn-success colors'"></div></td>
            <td matTooltip="Red"><div (click)="choseColor('danger')" [ngClass]="schedule.color === 'btn btn-danger' ? 'btn-danger colorsChecked' : 'btn-danger colors'"></div></td>
            <td matTooltip="Dark"><div (click)="choseColor('dark')" [ngClass]="schedule.color === 'btn btn-dark' ? 'btn-dark colorsChecked' : 'btn-dark colors'"></div></td>
            </tr>
            </table>
          </div>

        </div>

        <div class="form-row lastRow">

          <div class="form-group col-md-6">
            <mat-checkbox (change)="schedule.pauseTime = !schedule.pauseTime"> Pause time
            </mat-checkbox><br>
            <div class="pauseTimeDiv">
              <table *ngIf="schedule.pauseTime">
                <tr><td>
                  <input
                    [format]="24"  readonly
                    class="choseTime"
                    placeholder="Pause begin hour"
                    [ngxTimepicker]="picker5">
                  <ngx-material-timepicker class="timePicker" #picker5></ngx-material-timepicker>
                </td><td> <input
                  [format]="24"  readonly
                  class="choseTime"
                  placeholder="pause end hour"
                  [ngxTimepicker]="picker6">
                  <ngx-material-timepicker class="timePicker" #picker6></ngx-material-timepicker>
                </td>  </tr>
              </table>
            </div>
          </div>
          <div class="form-group col-md-6">
            <div class="buttonsDiv">
              <button type="submit" mat-raised-button color="primary" (click)="addSchedule()" [disabled]="!formGroup.valid">Add Schedule</button>
              <button type="button" (click)="closeThis()" class="btn btn-light cancelButt">Cancel</button>
            </div>

          </div>
        </div>

      </form>
    </div>
  </div>
